<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="">
        <meta name="author" content="">

        <title>Contact - Travel Agency</title>

        <!-- CSS FILES -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <!-- <link rel="icon" href="images/world-travel.png"> -->
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        
        <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">

        <link href="css/bootstrap.min.css" rel="stylesheet">

        <link href="css/bootstrap-icons.css" rel="stylesheet">

        <link href="css/magnific-popup.css" rel="stylesheet">

        <link href="css/styles.css" rel="stylesheet">
        
    </head>
    
    <body>

        <section class="preloader">
            <div class="spinner">
                <span class="spinner-rotate"></span>    
            </div>
        </section>

        <nav class="navbar navbar-expand-lg internal-pages">
            <div class="container">

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <a href="index.html" class="navbar-brand mx-auto mx-lg-0">Travel</a>

                <div class="d-flex align-items-center d-lg-none">
                    <i class="navbar-icon bi-telephone-plus me-3"></i>
                    <a class="custom-btn btn" href="#section_5">
                        120-240-9600
                    </a>
                </div>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-lg-5" style="margin-bottom: -70px;">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link " href="your-tickets-are-waiting-one-call-away.html">YOUR TICKETS ARE WAITING ONE CALL AWAY</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="terms-and-conditions.html">Terms & Condions</a>
                        </li>

                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown active">More<i class="bi-caret-down-fill"></i></a>
                            <ul id="myDropdown" class="dropdown-content">
                                <li class="nav-item"><a href="articles.html">Article</a></li>
                                <li class="nav-item active"><a href="contact.html">Contact</a></li>
                            </ul>
                        </li>
                     
                    </ul>

                    <div class="d-lg-flex align-items-center d-none ms-auto">
                        <i class="navbar-icon bi-telephone-plus me-3"></i>
                        <a class="custom-btn btn" href="tel:120-240-9600">
                            120-240-9600
                        </a>
                    </div>
                </div>

            </div>
        </nav>

        <main>

            <section class="internal-pages-hero">
            </section>          


            <section class="contact section-padding" id="section_6">
                    <div class="container">
                        <div class="row">

                            <div class="col-lg-6 col-md-8 col-12 centered">
                                <div class="section-title-wrap d-flex justify-content-center align-items-center mb-5">
                                    <img src="images/aerial-view-man-using-computer-laptop-wooden-table.jpg" class="avatar-image img-fluid" alt="">

                                    <h2 class="text-white ms-4 mb-0">Say Hi</h2>
                                </div>
                            </div>

                            <div class="clearfix"></div>

                          

                            <div class="col-lg-6 col-md-6 col-12 ps-lg-0">
                                <div class="contact-info d-flex flex-column">
                                    <strong class="site-footer-title d-block mb-3">Say Hi</strong>

                                    <p class="mb-2">
                                        Get in Touch with us for booking your ticket or you can send us your email we will love to help you soon
                              </p>

                                    <strong class="site-footer-title d-block mt-4 mb-3">Email</strong>

                                    <p>
                                        <a href="mailto:travel@travel.com">
                                            travel@travel.com
                                        </a>
                                    </p>

                                    <strong class="site-footer-title d-block mt-4 mb-3">Call</strong>

                                    <p class="mb-0">
                                        <a href="tel: 120-240-9600">
                                            120-240-9600
                                        </a>
                                    </p>
                                </div>
                            </div>

                            <div class="col-lg-6 col-12 mt-5 mt-lg-0">
                                <form action="#" method="get" class="custom-form contact-form" role="form">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" name="name" id="name" class="form-control" placeholder="Name" required="">
                                                
                                                <label for="floatingInput">Name</label>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-md-6 col-12"> 
                                            <div class="form-floating">
                                                <input type="email" name="email" id="email" pattern="[^ @]*@[^ @]*" class="form-control" placeholder="Email address" required="">
                                                
                                                <label for="floatingInput">Email address</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-12 col-12"> 
                                            <div class="form-floating">
                                                <input type="number" name="number" id="number"  class="form-control" placeholder="Phone Number" required="">
                                                
                                                <label for="floatingInput">Phone Number</label>
                                            </div>
                                        </div>

                                        <div class="col-lg-12 col-12">
                                            <div class="form-floating">
                                                <textarea class="form-control" id="message" name="message" placeholder="Tell me about the project"></textarea>
                                                
                                                <label for="floatingTextarea">Tell me about the project</label>
                                            </div>
                                        </div>

                                        <div class="col-lg-3 col-12 ms-auto">
                                            <button type="submit" id="form-submit" class="form-control">Send</button>
                                        </div>

                                    </div>
                                </form>
                            </div>

                        </div>
                    </div>
                </div>
            </section>

        </main>

        <footer class="site-footer">
            <div class="container">
                <div class="row">

                    <div class="col-lg-12 col-12">
                        <div class="copyright-text-wrap">
                            <p class="mb-0">
                                <span class="copyright-text">Copyright Â© 2022 <a href="#">Travel Agency</a> Company. All rights reserved.</span>
                                Developed by: 
                                <a rel="sponsored" href="https://www.younedia.com/" target="_blank">Younedia</a>
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </footer>
        <div id="myDIV"></div>
        <div id="serverErrors"> </div>
        <div id="serverSuccess"> </div>
        <!-- JAVASCRIPT FILES -->
        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/jquery.sticky.js"></script>
        <script src="js/click-scroll.js"></script>
        <script src="js/jquery.magnific-popup.min.js"></script>
        <script src="js/magnific-popup-options.js"></script>
        <script src="js/custom.js"></script>


       

        <script>
            const submitBTN = document.getElementById('form-submit');
            const serverErrorsDIV = document.getElementById('serverErrors');
            const serverSuccessDIV = document.getElementById('serverSuccess');
        
            const name = document.getElementById('name');
            const email = document.getElementById('email');
            const number = document.getElementById('number');
            const msg = document.getElementById('message');
        
            const deleteBTN = document.getElementById('cross');
        
            closeErr = (e) => {
              if(e === 'error') {
                serverErrorsDIV.style.visibility = 'hidden';
              serverErrorsDIV.style.opacity = '0';
              serverErrorsDIV.style.transform = "translate(-50%, -50px)";
              }
              serverSuccessDIV.style.visibility = 'hidden';
              serverSuccessDIV.style.opacity = '0';
              serverSuccessDIV.style.transform = "translate(-50%, -50px)";
            }
        
            submitBTN.addEventListener('click', (e) => {
              e.preventDefault();
              if ((!email || email.value === '') || (!name || name.value === '')) {
                alert('Please fill all required values')
                return;
              }
        
              // const data = new FormData();
              // data.append("json", JSON.stringify(payload));
        
              const div = document.createElement('div');
              div.style.alignItems = 'center';
              // const iCross = document.createElement('i');
              // iCross.setAttribute('class', 'bi bi-backspace');
              // iCross.style.padding = '0 0 6px 8px'
              div.setAttribute("class", "loading");
              div.setAttribute("id", "loading");
              document.getElementById("myDIV").style.display = 'block';
              document.getElementById("myDIV").appendChild(div);
        
              document.body.style.overflow = 'hidden';
              fetch('http://localhost:3100/api/send-mail-travel-agency', {
                method: "post",
                body: JSON.stringify({
                  name: name.value,
                  email: email.value,
                  number: number.value,
                  msg: msg.value,
                  domain: 'travelagency.com'
                }),
                headers: {
                  'Accept': 'application/json, text/plain, */*',
                  'Content-Type': 'application/json; charset=UTF-8'
                }
                //make sure to serialize your JSON body
        
              }).then(res => res.json()).then(res => {
                document.getElementById("loading").remove();
                document.getElementById("myDIV").style.display = 'none';
                document.body.style.overflow = 'auto'
                serverSuccessDIV.style.transform = "translate(-50%, 0)";
                serverSuccessDIV.style.opacity = "1";
                serverSuccessDIV.style.visibility = "visible";
                serverSuccessDIV.innerHTML = res.message + `<i class="bi bi-backspace" id="cross" onClick="closeErr('success')">`;
        
                setTimeout(() => {
                  serverSuccessDIV.style.transform = "translate(-50%, -50px)";
                  serverSuccessDIV.style.opacity = "0";
                  serverSuccessDIV.style.visibility = "hidden";
                }, 3000);
              })
                .catch(err => {
                  serverErrorsDIV.style.transform = "translate(-50%, 0)";
                  serverErrorsDIV.style.opacity = "1";
                  serverErrorsDIV.style.visibility = "visible";
                  serverErrorsDIV.innerHTML = err + `<i class="bi bi-backspace" id="cross" onClick="closeErr('error')">`;
                  // serverErrorsDIV.appendChild(iCross);
                  console.log(serverErrorsDIV)
                  document.getElementById("loading").remove();
                  document.getElementById("myDIV").style.display = 'none';
                  document.body.style.overflow = 'auto';
                })
            })
          </script>

    </body>
</html>